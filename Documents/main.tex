% pre-amble section
\documentclass[11pt,english]{article}
\usepackage[utf8]{inputenc}
\usepackage{babel}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{appendix}

\title{Herbert\\Autonomous Robotic Rubik's Cube Solver}
\author{
    Jonathan Whitaker\\
    \textt{jon.whitaker@utah.edu}
    \and
    Dylan Lytle\\
    \textt{dylan.lytle@utah.edu}
    \and
    Matt Frandsen\\
    \textt{matt.frandsen@utah.edu}
    \and
    Li Lao\\
    \textt{li.lao@utah.edu}
}
\date{April 2015}
% end of pre-amble

% document content
\begin{document}

\maketitle

\tableofcontents

\section{Abstract}
Project Herbert is an autonomous robotic Rubik's Cube solver that is composed of a complex network of mechanical and electrical devices. In this project our team will be interfacing with these complex mechanical and electrical devices so as to design and create an autonomous robot that is capable of achieving record-breaking Rubik's Cube solution sequences.  This project will be an integration of various technologies including: mechanical actuators, electrical stepper motors, single-board computers, field-programmable gate arrays (FPGAs), and video cameras.

\section{Introduction}
The purpose of this project is to create an autonomous robotic Rubik's Cube solver through the integration of several components. The main components needed in our project include video cameras, electrical stepper motors, mechanical actuators, a single-board computer (SBC), and an FPGA. The video cameras connect to the computer through standard USB 2.0 protocol \cite{USB 2.0}. The video cameras are responsible for capturing the initial configuration of the Rubik's Cube, and the single board computer is responsible for processing the video frame information and generating a matrix model for the initial state of the cube. After generating a matrix model for the initial cube, the computer will then apply Kociemba's algorithm \cite{Kociemba} (an optimal algorithm used to solve a Rubik's Cube) to generate a solution sequence that can be processed sequentially. The solution sequence that Kociemba's algorithm will return will be in the standard notation used in Rubik's Cube discussion and theory (see Appendix \ref{sec:Appendix A}). As each solution sequence is processed, the computer will communicate through an RS232 serial connection to an FPGA board which will drive the mechanical actuation and stepper motor rotations needed to physically manipulate the cube. The FPGA will act as a system control board and will be responsible for controlling the actions of two motor control boards and a relay board used to trigger the mechanical actuators. An overview of this process can be found below in Fig. \ref{fig:System Block Diagram} of section \ref{sec:Project Design}.

Upon completion of the robotic Rubik's Cube solver, if time permits, we hope to take Project Herbert one step further and obtain a Guinness World Record for the fastest robot to solve a Rubik's Cube. CubeStormer3 is the current record holder \cite{GuinnessWR}. The uniqueness of this project is rooted in the optimizations that we will have to make in each component of our system, especially the electro-mechanical stepper motors and the mechanical actuators. We will have to fine-tune these mechanical components to perform physical operations quicker than the human eye in order to obtain record-breaking speed. In this process we will have to maintain the precision needed to rotate the cube.

\section{Project Design}
\label{sec:Project Design}

\begin{figure}[!ht]
\centering
\includegraphics{"Herbert System Diagram".pdf}
\caption{Herbert Block Diagram}
\label{fig:System Block Diagram}
\end{figure}

\subsection{Capturing the Cube with OpenCV}
\label{sec:opencv}

\subsubsection{Camera Orientation}
As seen in Fig. \ref{fig:System Block Diagram}, two cameras will be connected to a SBC through a standard USB 2.0 connection. Each one of these cameras is responsible for capturing exactly three of the six faces of the cube. One camera will capture the front, top, and left faces of the cube. The other camera will be responsible for capturing the back, bottom, and right faces of the cube. To do this, each camera will be positioned so that it faces the corner piece that connects the edges of the faces it is responsible for capturing. An example of this cube orientation is shown in Fig. \ref{fig:Camera Positioning}.

\begin{figure}[!ht]
\centering
\includegraphics[scale=0.25]{"Rubik's Cube Positioning".png}
\caption{Camera Positioning}
\label{fig:Camera Positioning}
\end{figure}

\subsubsection{Utilizing OpenCV for Image Processing}
\label{sec:image processing}
OpenCV is an open source computer vision and machine learning software library \cite{OpenCV}. We will be leveraging this library to perform image analysis on a Rubik's Cube, which will allow us to generate a matrix model for any cube orientation. The OpenCV library will be installed on the SBC, which will enable us to capture and analyze video frames from the USB connected cameras.

Capturing the faces of a cube requires three primary operations:

\begin{enumerate}
  \item \textbf{Grayscale conversion} -
 A video frame will be captured and converted to Grayscale using OpenCV's \textit{cvtColor} function \cite{cvtColor}. Grayscale conversion transforms RGB pixel values into black and white intensity values \cite{Grayscale}. Converting to Grayscale allows an easy transformation to a binary (black and white) image, which is used to filter out features that are not important.
  \item  \textbf{Canny edge detection} -
 Canny edge detection is a multi-stage algorithm used to detect a wide range of edges in an image \cite{Canny Edge Detection}. We will be using OpenCV's \textit{Canny} function \cite{OpenCV Canny} to identify the edges of the Rubik's Cube, which, when combined with contour filtering, will allow us to dynamically identify the planes in the frame that represent the three faces of the cube.

  \item \textbf{Contour filtering} -
 Contour filtering will be used to identify the contours of the Rubik's Cube within the image. OpenCV's \textit{findContours} function \cite{findContours} will allow us to identify the region of space in the image where the Rubik's Cube resides. Likewise, it will enable us to identify individual cublets on each of the three faces of the cube.

\end{enumerate}



\subsection{Kociemba's Algorithm and the Solution Sequence}
\label{sec:Kociemba}

\subsection{Electro-mechanical Stepper Motors}
\label{sec:Stepper Motors}

\subsection{Mechanical Actuators}
\label{sec:Mechanical Actuators}

\section{Schedule}
\section{Required Resources}
\section{Summary}
\section{Acknowledgements}

\begin{thebibliography}{9}
\bibliographystyle{IEEEtran}

\bibitem{USB 2.0}
\emph{USB 2.0 Specification}
[Online]. Available: \url{http://www.usb.org/developers/docs/usb20_docs/}

\bibitem{Kociemba}
Herbert Kociemba.
\emph{The Two-Phase Algorithm}
[Online]. Available: \url{http://kociemba.org/cube.htm}

\bibitem{GuinnessWR}
Guinness World Records.
\emph{Fastest robot to solve a Rubik's Cube}
[Online]. Available: \url{http://www.guinnessworldrecords.com/world-records/fastest-robot-to-solve-a-rubiks-cub}

\bibitem{OpenCV}
OpenCV Developers Team.
\emph{About OpenCV}
[Online]. Available: \url{http://opencv.org/about.html}

\bibitem{cvtColor}
OpenCV Developers Team.
\emph{Miscellaneous Image Transformations}
[Online]. Available: \url{http://docs.opencv.org/modules/imgproc/doc/miscellaneous_transformations.html#cvtcolor}

\bibitem{Grayscale}
Wikipedia contributors.
\emph{Grayscale}
[Online]. Available: \url{http://en.wikipedia.org/w/index.php?title=Grayscale&oldid=652694198}

\bibitem{Canny Edge Detection}
Wikipedia contributors.
\emph{Canny edge detector}
[Online]. Available: \url{http://en.wikipedia.org/w/index.php?title=Canny_edge_detector&oldid=655662708}

\bibitem{OpenCV Canny}
OpenCV Developers Team.
\emph{Feature Detection}
[Online]. Available: \url{http://docs.opencv.org/modules/imgproc/doc/feature_detection.html?highlight=canny#canny}

\bibitem{findContours}
OpenCV Developers Team.
\emph{Structural Analysis and Shape Descriptors}
[Online]. Available: \url{http://docs.opencv.org/modules/imgproc/doc/structural_analysis_and_shape_descriptors.html?highlight=findcontours#findcontours}

\bibitem{Basic Cube Notation}
Joseph Converse.
\emph{Basic Notation}
[Online]. Available: \url{http://astro.berkeley.edu/~converse/rubiks.php?id1=basics&id2=notation}
\end{thebibliography}

\appendix
\section{Rubik's Cube Notation}
\label{sec:Appendix A}
In order to solve a cube, it is standard to define the terminology and orientation layout used in Rubik's Cube theory and analysis. This section describes the basic notation that is used throughout this document.

\subsection{Faces}
A Rubik's Cube is composed of six faces: right (\textbf{R}), left (\textbf{L}), up (\textbf{U}), down (\textbf{D}), front (\textbf{F}), and back (\textbf{B}) (see Fig. \ref{fig:Cube Orientation}). The exact color of each face is relative to the orientation in which you are holding the cube. For example, if you align the blue face towards you then the blue face is defined as the front face. Each face can be rotated in two different directions: \textit{clockwise} or \textit{counter-clockwise}. These rotations are defined as the direction of rotation when looking directly at that face.

\begin{figure}[!ht]
\centering
\includegraphics{"Cube Orientation".png}
\caption{Cube Orientation}
\label{fig:Cube Orientation}
\end{figure}

\subsection{Fundamental Moves}
The most fundamental moves are 90-degree clock-wise rotations for each of the faces outlined above. These moves are outlined below \cite{Basic Cube Notation}:

\begin{itemize}

\item{\textbf{R}} - Indicates a 90-degree clockwise rotation of the right face such that the side on top rotates towards the back.
\item{\textbf{L}} - Indicates a 90-degree clockwise rotation of the left face such that the side on top rotates towards the front.
\item{\textbf{U}} - Indicates a 90-degree clockwise rotation of the upper face such that the side in front moves to the left.
\item{\textbf{D}} - Indicates a 90-degree clockwise rotation of the downward face such that the side in front moves to the right.
\item{\textbf{F}} - Indicates a 90-degree clockwise rotation of the front face such that the side on top moves to the right.
\item{\textbf{B}} - Indicates a 90-degree clockwise rotation of the back face such that the side on top moves to the left.
\end{itemize}

\subsection{Modifiers}
For each of the fundamental moves above, there are modifiers that can be appended to the move to change the rotation of the face. My example below uses \textbf{L} as the base move, but these modifiers can be applied to any of the fundamental moves.

\begin{itemize}
\item \textbf{L'} - Indicates a 90-degree counter-clockwise rotation of the left face such that the side on top rotates towards the back (opposite direction as that defined above).
\item \textbf{L2} - Indicates a 180-degree rotation of the left face (two rotations).
\end{itemize}


\end{document}
% end of document content
